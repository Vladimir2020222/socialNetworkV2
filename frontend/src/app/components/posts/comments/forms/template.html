<div class="main-input-wrapper">
  <label [for]="getIdForMainInputElement()">
    <div class="main-div-input">
      <span class="whitespace-pre main-div-input-text text-before-caret">
        {{ text.slice(0, text.length - caretOffset) }}
      </span>
      <span *ngIf="text === '' && document.activeElement != mainInputElement; else caret">{{ placeholder }}</span>
      <ng-template #caret>
        <div class="caret" [style.opacity]="showCaret ? '1' : '0'">|</div>
      </ng-template>
      <span class="whitespace-pre main-div-input-text text-after-caret">
        {{ text.slice(text.length - caretOffset, text.length) }}
      </span>
    </div>
  </label>
  <input class="main-input" [id]="getIdForMainInputElement()" [(ngModel)]="text" #mainInputElement>
  <button type="button" (click)="submit()">send</button>
</div>
